{"version":3,"sources":["Board.js","App.js","index.js"],"names":["Board","board","updateBoard","className","map","row","index","key","onClick","handleClick","column","columnIndex","token","rowIndex","color","generateColumns","App","arr","Array","fill","useState","setBoard","turn","setTurn","gameOn","setGame","counter","setCounter","message","setMessage","history","setHistory","setColor","href","aria-hidden","x","newBoard","columns","player","classColor","y","length","prevCounter","prevBoards","concat","horizontal","count","right","left","getHorizontalCount","vertical","getVerticalCount","rise","top","bottom","getRiseCount","fall","getFallCount","prevHistory","slice","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c6071a09.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Board({ board, updateBoard }) {\n    function generateColumns(board) {\n        return board.map((row, index) => {\n            return (\n                <div className='column' key={index} onClick={() => handleClick(index)}>\n                    {generateHeight(board[index], index)}\n                </div>\n            );\n        });\n    }\n\n    function generateHeight(column, columnIndex) {\n        return column.map((token, rowIndex) => {\n            let color = \"circle\";\n            if (token === \"O\") {\n                color = \"circle yellow\";\n            } else if (token === \"X\") {\n                color = \"circle red\";\n            }\n            return (\n                <button key={columnIndex + \"\" + rowIndex} className={color}>\n                    {/* {columnIndex + \"\" + rowIndex} */}\n                </button>\n            );\n        });\n    }\n\n    function handleClick(index) {\n        updateBoard(index);\n    }\n\n    return <div className='board'>{generateColumns(board)}</div>;\n}\n","import React, { useState } from \"react\";\nimport Board from \"./Board.js\";\nimport \"./App.css\";\n\nexport default function App() {\n    const x = 7;\n    const y = 6;\n    const size = x * y - 1;\n    const empty = \"\";\n    const player1 = \"O\";\n    const player2 = \"X\";\n    const winCondition = 4;\n\n    const arr = Array(x)\n        .fill(empty)\n        .map(() => Array(y).fill(empty));\n\n    const [board, setBoard] = useState(arr);\n    const [turn, setTurn] = useState(true); //a toggle that cycles between p1 and p2\n    const [gameOn, setGame] = useState(true); //mainly to determine game ends before a winner\n    const [counter, setCounter] = useState(1); //for terminate game when out of spaces\n    const [message, setMessage] = useState(\"\");\n    const [history, setHistory] = useState([arr]);\n    const [color, setColor] = useState(\"message\");\n\n    function updateBoard(x) {\n        if (!gameOn) return;\n        if (board[x][0] !== empty) return setMessage(\"Column full, pick another column\");\n\n        let newBoard = board.map((columns) => columns.map((row) => row)); //make a brand new board to make changes to\n        let token = turn ? player1 : player2;\n        let player = turn ? \"Player 1\" : \"Player 2\";\n        let classColor = turn ? \"message yellow\" : \"message red\";\n\n        //check token from bottom up\n        let y = newBoard[x].length - 1;\n        for (; y >= 0; y--) {\n            if (newBoard[x][y] === empty) {\n                newBoard[x][y] = token;\n                break;\n            }\n        }\n\n        setBoard(newBoard);\n        setTurn(!turn);\n        setCounter((prevCounter) => prevCounter + 1);\n        setMessage(\"\");\n        setHistory((prevBoards) => {\n            return prevBoards.concat([newBoard]);\n        });\n        setColor(\"message\");\n\n        //get all direction counts\n        let horizontal = getHorizontalCount(x, y, token, newBoard);\n        let vertical = getVerticalCount(x, y, token, newBoard);\n        let rise = getRiseCount(x, y, token, newBoard);\n        let fall = getFallCount(x, y, token, newBoard);\n\n        //the game only ends if either player win or no more spaces left\n        if (vertical >= winCondition || horizontal >= winCondition || rise >= winCondition || fall >= winCondition) {\n            setGame(false);\n            setMessage(`Game over! ${player} Won!`);\n            setColor(classColor);\n        } else if (counter - 1 === size) {\n            setGame(false);\n            setMessage(\"Game over! Draw!\");\n        }\n    }\n\n    function getHorizontalCount(x, y, token, board) {\n        let count = 0;\n\n        //count right side\n        for (let right = x; right < board.length; right++) {\n            if (board[right][y] === token) {\n                count++;\n            } else {\n                break;\n            }\n        }\n\n        //count left side\n        for (let left = x - 1; left >= 0; left--) {\n            if (board[left][y] === token) {\n                count++;\n            } else {\n                break;\n            }\n        }\n        return count;\n    }\n\n    function getVerticalCount(x, y, token, board) {\n        let count = 0;\n\n        //count downwards\n        for (; y < board[x].length; y++) {\n            if (board[x][y] === token) {\n                count++;\n            } else {\n                break;\n            }\n        }\n\n        return count;\n    }\n\n    function getRiseCount(x, y, token, board) {\n        let count = 0;\n\n        //count top right\n        for (let right = x, top = y; right < board.length && top >= 0; right++, top--) {\n            if (board[right][top] === token) {\n                count++;\n            } else {\n                break;\n            }\n        }\n\n        //count bottom left\n        for (let left = x - 1, bottom = y + 1; left >= 0 && bottom < board[x].length; left--, bottom++) {\n            if (board[left][bottom] === token) {\n                count++;\n            } else {\n                break;\n            }\n        }\n\n        return count;\n    }\n\n    function getFallCount(x, y, token, board) {\n        let count = 0;\n\n        //count bottom right\n        for (let right = x, bottom = y; right < board.length && bottom < board[x].length; right++, bottom++) {\n            if (board[right][bottom] === token) {\n                count++;\n            } else {\n                break;\n            }\n        }\n\n        //count top left\n        for (let left = x - 1, top = y - 1; left >= 0 && top >= 0; left--, top--) {\n            if (board[left][top] === token) {\n                count++;\n            } else {\n                break;\n            }\n        }\n\n        return count;\n    }\n\n    function undoBoard() {\n        if (counter === 1) return;\n        setBoard(history[history.length - 2]);\n        setTurn(!turn);\n        setGame(true);\n        setCounter((prevCounter) => prevCounter - 1);\n        setMessage(\"\");\n        setHistory((prevHistory) => {\n            return prevHistory.slice(0, prevHistory.length - 1);\n        });\n        setColor(\"message\");\n    }\n\n    function resetBoard() {\n        setBoard(arr);\n        setTurn(true);\n        setGame(true);\n        setCounter(1);\n        setMessage(\"\");\n        setHistory([arr]);\n        setColor(\"message\");\n    }\n\n    return (\n        <div className='connect4'>\n            <a className='back' href='https://pcchiu96.github.io/portfolio'>\n                <i className='fa fa-arrow-circle-left' aria-hidden='true'></i>\n            </a>\n            <header className='yellow'>\n                Connect <span className='red'>4</span>\n            </header>\n            <Board board={board} updateBoard={updateBoard} />\n            <button className='b-restart' onClick={resetBoard}>\n                Restart\n            </button>\n            <button className='b-undo' onClick={undoBoard}>\n                Undo\n            </button>\n            <p className='turn-indicator'>\n                <span className={turn ? \"message yellow\" : \"message\"}>P1</span>\n                <span className={turn ? \"message\" : \"message red\"}>P2</span>\n            </p>\n            <p className={color}>{message}</p>\n        </div>\n    );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}